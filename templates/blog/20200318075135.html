<h2>【HTML5】パスワードフィールド - テキスト入力のフォーム部品</h2>

パスワードフィールドは、パスワードを入力するためのフォーム部品です。inputタグで「type="password"」を指定します。<a href="/blog/20200317081313.html">テキストフィールド</a>と異なり、入力した文字が見えません。

<input type="password" name="password">

<pre>
<input type="password" name="password">
</pre>

パスワードを入力することができます。フォーム部品なので、name属性で、名前を付けておくことが一般的です。

<h3>パスワードフィールドは、インラインブロック要素</h3>

パスワードフィールドは、デフォルトで、インラインブロック要素です。インラインブロック要素なので、左側に流れ、高さや幅を設定することができます。

<div>
  <input type="password" name="password" style="width:100px;height:50px;">
</div>

<pre>
<input type="password" name="password" style="width:100px;height:50px;">
</pre>

<h3>パスワードフィールドに、フォントサイズ、パディングを設定する</h3>

デフォルトのパスワードフィールドは、スマートフォンをメインに考えると、少し小さいです。パスワードフィールドに、適切なパディングを設定してみましょう。

<input type="password" name="password" style="padding:11px 5px 9px 5px;font-size:16px;">

<pre>
<input type="password" name="password" style="padding:12px 5px 10px 5px;">
</pre>

<h3>iphone/safari対応するために、パスワードフィールドのフォントサイズは、16px以上に</h3>

iphone/safari対応するために、パスワードフィールドのフォントサイズは、16px以上にしましょう。<a href="/blog/20200309145137.html">iphone/safariでフォーム入力時の自動拡大機能をoff</a>にするためのです。

<h3>ラベルをクリックしたときに、フォーカスが当たるようにする</h3>

パスワードフィールドだけではなく、項目見出しをクリックしたときに、フォーカスが当たるようにするにはlabelタグを使います。inputタグの中のid属性で指定した名前をlabelタグのfor属性に指定します。

<label for="password">パスワード:</label> <input type="password" name="password" id="password">

<pre>
<label for="password">パスワード:</label> <input type="password" name="password" id="password">
</pre>

パスワードというラベルをクリックしてみてください。パスワードフィールドに、フォーカスが当たります。

<h3>フォーム送信時に、jQueryでフォームのパスワードフィールドの値を取得する</h3>

送信ボタンを押したタイミングで、パスワードフィールドの値を取得する<a href="/blog/20200219091414.html">jQuery</a>を使ったサンプルです。ajaxでPOSTリクエストを送信するときに、よく使います。取得した内容を、alertで表示しています。

<h4>フォームのすべての値を取得する方法</h4>

フォームのすべての値を取得する方法です。

<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script>
  $(function () {
    $(document).on('click', '.form-text-field-all .submit_button', function () {
      
      /* フォームのすべての値を取得する方法 */
      var data = $(this).closest('form').serialize();
      
      alert(data);
    });
  });
</script>

<div class="form-text-field-all">
  <form>
    <div>
      パスワード: <input type="password" name="password">
    </div>
    <button type="button" class="submit_button">送信</button>
  </form>
</div>

<pre>
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script>
  $(function () {
    $(document).on('click', '.form-text-field-all .submit_button', function () {
      
      /* フォームのすべての値を取得する方法 */
      var data = $(this).closest('form').serialize();
      
      alert(data);
    });
  });
</script>

<div class="form-text-field-all">
  <form>
    <div>
      パスワード: <input type="password" name="password">
    </div>
    <button type="button" class="submit_button">送信</button>
  </form>
</div>
</pre>

on('click')をdocumentから始めているのは、動的なHTMLの書き換えに対応するためです。ドキュメントトップからたどると、HTMLの部分が動的に書き換えられた場合も、正しく動作します。buttonに「type="button"」を指定しておくと、<a href="/blog/20200313095039.html">フォームのボタンのサブミットの動作がなくなくす</a>ことができます。

<h4>個別のパスワードフィールドの値を取得する方法</h4>

個別のパスワードフィールドの値を取得する方法です。パスワードだけを取得しています。

<script>
  $(function () {
    $(document).on('click', '.form-text-field-part .submit_button', function () {
      
      /* パスワードを取得 */
      var password = $(this).closest('form').find('[name=password]').val();
      
      alert(password);
    });
  });
</script>

<div class="form-text-field-part">
  <form>
    <div>
      パスワード: <input type="password" name="password">
    </div>
    <button type="button" class="submit_button">送信</button>
  </form>
</div>

<pre>
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script>
  $(function () {
    $(document).on('click', '.form-text-field-part .submit_button', function () {
      
      /* パスワードを取得 */
      var password = $(this).closest('form').find('[name=password]').val();
      
      alert(password);
    });
  });
</script>

<div class="form-text-field-part">
  <form>
    <div>
      パスワード: <input type="password" name="password">
    </div>
    <button type="button" class="submit_button">送信</button>
  </form>
</div>
</pre>
